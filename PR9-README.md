# ğŸ—ºï¸ Atlas Control Center (Ù…Ø±Ú©Ø² Ú©Ù†ØªØ±Ù„ Ø§Ø·Ù„Ø³)

**Business Intelligence & Data-Driven Decision Engine**  
**Ø³ÛŒØ³ØªÙ… Ù‡ÙˆØ´ ØªØ¬Ø§Ø±ÛŒ Ùˆ Ù…ÙˆØªÙˆØ± ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ…Ø­ÙˆØ±**

---

## Overview / Ù…Ø¹Ø±ÙÛŒ

Atlas Control Center is a comprehensive BI (Business Intelligence) dashboard that transforms raw behavioral data into actionable business insights with human-readable explanations.

Ù…Ø±Ú©Ø² Ú©Ù†ØªØ±Ù„ Ø§Ø·Ù„Ø³ ÛŒÚ© Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø¬Ø§Ù…Ø¹ Ù‡ÙˆØ´ ØªØ¬Ø§Ø±ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø±ÙØªØ§Ø±ÛŒ Ø®Ø§Ù… Ø±Ø§ Ø¨Ù‡ Ø¨ÛŒÙ†Ø´â€ŒÙ‡Ø§ÛŒ ØªØ¬Ø§Ø±ÛŒ Ù‚Ø§Ø¨Ù„ Ø§Ø¬Ø±Ø§ Ø¨Ø§ ØªÙˆØ¶ÛŒØ­Ø§Øª Ù‚Ø§Ø¨Ù„ ÙÙ‡Ù… Ø¨Ø±Ø§ÛŒ Ø§Ù†Ø³Ø§Ù† ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

---

## ğŸ¯ Key Features / ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ

### âœ… Five Operational Layers / Ù¾Ù†Ø¬ Ù„Ø§ÛŒÙ‡ Ø¹Ù…Ù„ÛŒØ§ØªÛŒ

1. **ğŸ“Š Executive Overview (Ù†Ù…Ø§ÛŒ Ú©Ù„Ø§Ù†)**
   - 30-second health dashboard
   - Real-time metrics and alerts
   - Health score: 0-100

2. **ğŸ” Behavior Analyzer (ØªØ­Ù„ÛŒÙ„ Ø±ÙØªØ§Ø±)**
   - Bottleneck detection
   - User flow intelligence
   - Indecision point identification

3. **ğŸ’¡ Recommendation Engine (Ù…ÙˆØªÙˆØ± Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª)**
   - Data-to-recommendation transformer
   - Priority-based insights
   - Actionable business suggestions

4. **ğŸ¯ Decision Assistant (Ø¯Ø³ØªÛŒØ§Ø± ØªØµÙ…ÛŒÙ…â€ŒØ³Ø§Ø²ÛŒ)**
   - Predictive A/B testing
   - Decision simulation
   - Risk assessment

5. **âš™ï¸ Advanced Settings (ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù‡Ø³ØªÙ‡)**
   - Auto-Index configuration
   - Intelligence level control
   - Administrator-only access

### ğŸš€ Additional Features

- âœ… **3-Click Rule**: All features within 3 clicks
- âœ… **Human Explanations**: Every metric with context
- âœ… **Security**: Role-based access control
- âœ… **Performance**: Optimized for heavy loads
- âœ… **Real-time**: Auto-refresh capabilities
- âœ… **Persian Support**: Full RTL language support

---

## ğŸ“‹ Requirements / Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§

### System Requirements
- **WordPress**: 6.0+
- **PHP**: 8.2+
- **React**: 18+
- **Node.js**: For building (development only)

### Plugin Dependencies
- Homaye Tabesh Core
- PR7: Omni-Store Infrastructure
- PR8: Enhanced Tracking

---

## ğŸš€ Installation / Ù†ØµØ¨

### 1. Ensure Dependencies
```bash
# Install Node.js dependencies
npm install

# Install Composer dependencies
composer install
```

### 2. Build Assets
```bash
# Production build
npm run build

# Development build with watch
npm run dev
```

### 3. Activate
The Atlas Control Center is automatically available after plugin activation.

---

## ğŸ“– Usage / Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡

### Access Atlas / Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø§Ø·Ù„Ø³

**WordPress Admin Path:**
```
WordPress Admin â†’ Ù‡Ù…Ø§ÛŒ ØªØ§Ø¨Ø´ â†’ ğŸ—ºï¸ Ù…Ø±Ú©Ø² Ú©Ù†ØªØ±Ù„ Ø§Ø·Ù„Ø³
```

**Direct URL:**
```
/wp-admin/admin.php?page=homaye-tabesh-atlas
```

### Quick Start Guide

#### Daily Routine (30 seconds)
1. Access Executive Overview
2. Check health score
3. Review priority alerts

#### Weekly Review (15 minutes)
1. Analyze user behavior bottlenecks
2. Review recommendations
3. Implement high-priority suggestions

#### Before Major Decisions
1. Use Decision Assistant
2. Run simulation with risk assessment
3. Review predicted impact
4. Make informed decision

---

## ğŸ—ï¸ Architecture / Ù…Ø¹Ù…Ø§Ø±ÛŒ

### Backend (PHP)

**Main File:** `includes/HT_Atlas_API.php`

**REST API Endpoints:**
```
/wp-json/homaye/v1/atlas/health              [GET]  - Health overview
/wp-json/homaye/v1/atlas/flow-analysis       [GET]  - Flow analysis
/wp-json/homaye/v1/atlas/bottlenecks         [GET]  - Bottleneck detection
/wp-json/homaye/v1/atlas/recommendations     [GET]  - Recommendations
/wp-json/homaye/v1/atlas/simulate            [POST] - Decision simulation
/wp-json/homaye/v1/atlas/settings            [GET]  - Get settings
/wp-json/homaye/v1/atlas/settings            [POST] - Update settings
/wp-json/homaye/v1/atlas/export/csv          [POST] - Export CSV
```

### Frontend (React)

**Components:**
```
assets/react/atlas-components/
â”œâ”€â”€ AtlasDashboard.jsx          # Main container
â”œâ”€â”€ ExecutiveOverview.jsx       # Layer 1
â”œâ”€â”€ BehaviorAnalyzer.jsx        # Layer 2
â”œâ”€â”€ RecommendationEngine.jsx    # Layer 3
â”œâ”€â”€ DecisionAssistant.jsx       # Layer 4
â””â”€â”€ AtlasSettings.jsx           # Layer 5
```

### Database Tables

Uses existing tables:
- `wp_homa_sessions`
- `wp_homa_vault`
- `wp_homaye_conversion_sessions`
- `wp_homaye_telemetry_events`

**No new tables created** - leverages PR7 & PR8 infrastructure.

---

## ğŸ”’ Security / Ø§Ù…Ù†ÛŒØª

### Role-Based Access Control

**All Layers (1-4):**
- Required capability: `manage_options`
- Typically: Administrator, Editor, Author roles

**Layer 5 (Advanced Settings):**
- Required role: `administrator`
- Security check: `wp_get_current_user()->roles`
- Warning displayed for unauthorized users

### API Security
- âœ… Nonce verification on all requests
- âœ… Capability checks on all endpoints
- âœ… Input sanitization
- âœ… Output escaping

---

## âš¡ Performance / Ú©Ø§Ø±Ø§ÛŒÛŒ

### Optimizations

**Auto-Index Configuration:**
```php
// Recommended settings
Auto-Index: Enabled
Scan Interval: 3600 seconds (60 minutes)
Low-traffic periods only
```

**Health Overview:**
```javascript
// Auto-refresh every 30 seconds
Auto-refresh: Enabled (Layer 1 only)
Analysis window: Last 30 days
```

### Performance Considerations

- âš ï¸ Auto-Index can increase server load
- âœ… Configurable scan intervals (min 5 minutes)
- âœ… Analysis limited to 30-day window
- âœ… Database queries use indexed columns

---

## ğŸ“Š Algorithms / Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…â€ŒÙ‡Ø§

### 1. Health Score Calculation
```php
health_score = 
    (conversion_rate * 0.4) +    // 40% weight
    (active_users * 0.35) +      // 35% weight
    (total_events * 0.25);       // 25% weight
```

**Score Interpretation:**
- ğŸŸ¢ 80-100: Excellent
- ğŸ”µ 60-79: Good
- ğŸŸ¡ 40-59: Warning
- ğŸ”´ 0-39: Critical

### 2. Bottleneck Detection
```php
if (exit_rate > 60%) {
    severity = 'high';
} elseif (exit_rate > 40%) {
    severity = 'medium';
} else {
    severity = 'low';
}
```

### 3. Decision Simulation
```php
prediction = (current_value * 1.1) - (risk_level * 0.05);
confidence = 100 - (risk_level * 30);
```

---

## ğŸ§ª Testing / ØªØ³Øª

### Unit Tests
```bash
# Run PHP tests (if available)
composer test

# Run JavaScript tests (if available)
npm test
```

### Manual Testing Checklist

- [ ] Access dashboard successfully
- [ ] All 5 layers load without errors
- [ ] Health metrics display correctly
- [ ] Bottlenecks detected accurately
- [ ] Recommendations are actionable
- [ ] Simulation produces results
- [ ] Settings save successfully (admin only)
- [ ] Non-admins cannot access Layer 5
- [ ] API endpoints respond correctly
- [ ] Mobile responsive design works

---

## ğŸ”§ Configuration / Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ

### Default Settings

```php
// Default configuration
$defaults = [
    'auto_index_enabled' => false,
    'scan_interval' => 3600,              // 1 hour
    'intelligence_level' => 'standard',   // basic, standard, advanced
    'alert_threshold' => 40,              // 0-100
    'data_retention_days' => 90,          // 7-365
];
```

### Recommended Settings

**Small Sites (<1000 visitors/month):**
```
Auto-Index: Disabled
Scan Interval: N/A
Intelligence: Basic
Alert Threshold: 30
Data Retention: 30 days
```

**Medium Sites (1K-10K visitors/month):**
```
Auto-Index: Enabled
Scan Interval: 3600 seconds (1 hour)
Intelligence: Standard
Alert Threshold: 40
Data Retention: 90 days
```

**Large Sites (>10K visitors/month):**
```
Auto-Index: Enabled
Scan Interval: 7200 seconds (2 hours)
Intelligence: Advanced
Alert Threshold: 50
Data Retention: 180 days
```

---

## ğŸ“š Documentation / Ù…Ø³ØªÙ†Ø¯Ø§Øª

### Available Guides

1. **PR9-IMPLEMENTATION.md** - Technical implementation details
2. **PR9-QUICKSTART.md** - User quick start guide (Persian & English)
3. **PR9-SUMMARY.md** - Complete project summary
4. **PR9-README.md** - This file

### API Documentation

See `includes/HT_Atlas_API.php` for inline PHPDoc comments.

---

## ğŸ› Troubleshooting / Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ

### Common Issues

**Issue: Dashboard not loading**
```bash
# Solution: Rebuild assets
npm run build
```

**Issue: No data displayed**
```
# Solutions:
1. Ensure tracking is enabled in settings
2. Wait 7+ days for data collection
3. Verify site has active traffic
```

**Issue: Cannot access Layer 5**
```
# Solution: Verify user role
Only users with 'administrator' role can access Layer 5
```

**Issue: API returns 403 Forbidden**
```
# Solution: Check permissions
Ensure user has 'manage_options' capability
```

---

## ğŸš€ Future Enhancements / Ø¨Ù‡Ø¨ÙˆØ¯Ù‡Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡

### Planned Features

- [ ] Full PDF report generation
- [ ] Interactive Atlas Map visualization
- [ ] Change history tracking
- [ ] Email delivery for reports
- [ ] Scheduled reports
- [ ] Advanced A/B testing
- [ ] Machine learning predictions
- [ ] Multi-language support

---

## ğŸ¤ Contributing / Ù…Ø´Ø§Ø±Ú©Øª

We welcome contributions! Please:

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Submit a pull request

### Coding Standards

- **PHP**: WordPress Coding Standards
- **JavaScript**: ESLint with React rules
- **CSS**: BEM naming convention
- **Documentation**: Clear comments in code

---

## ğŸ“ License / Ù…Ø¬ÙˆØ²

GPL v3 or later

---

## ğŸ‘¥ Credits / Ø§Ø¹ØªØ¨Ø§Ø±

**Author:** Tabshhh4  
**Implementation:** GitHub Copilot  
**Date:** December 26, 2024  
**Version:** 1.0.0  

Built upon the Homaye Tabesh plugin infrastructure (PR7 & PR8).

---

## ğŸ“ Support / Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ

**Issues:** https://github.com/tabshhh4-sketch/AI-Homaye-Tabesh/issues  
**Documentation:** See repository files  
**Community:** Coming soon

---

## ğŸ”— Related PRs

- **PR7**: Omni-Store Memory Engine
- **PR8**: Enhanced Tracking System
- **PR9**: Atlas Control Center (this PR)

---

**Last Updated:** December 26, 2024  
**Status:** âœ… Production Ready
